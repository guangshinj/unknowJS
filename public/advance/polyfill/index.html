<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Polyfill</title>
  </head>
  <body></body>
</html>
<script src="./bind.js"></script>
<script src="./promise.js"></script>
<script>
  const p1 = new Promise(resolve => {
    resolve('p1')
  })

  const p2 = new Promise(resolve => {
    resolve('p2')
  })

  const p3 = new Promise(resolve => {
    resolve('p3')
  })

  const p4 = new Promise((resolve, reject) => {
    // throw new Error('p4')
    reject('p4 throw error')
  })

  Promise.all([p1, p2, p3]).then(value => {
    console.info('es6 right', value)
    console.info('----------------------')
  })

  promiseAll([p1, p2, p3]).then(value => {
    console.info('mime right', value)
    console.info('----------------------')
  })

  Promise.all([p1, p2, p3, p4])
    .then(value => {
      console.info('es6 wrong', value)
      console.info('----------------------')
    })
    .catch(reason => {
      console.info('es6 catch', reason)
    })

  promiseAll([p1, p2, p3, p4])
    .then(value => {
      console.info('mime wrong', value)
      console.info('----------------------')
    })
    .catch(reason => {
      console.info('mime catch', reason)
    })
</script>
